# ğŸ“Š Server Monitor (ç®€æ˜“æœåŠ¡å™¨ç›‘æ§è„šæœ¬)

è¿™æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ Linux æœåŠ¡å™¨ç›‘æ§è„šæœ¬ï¼Œä¸“ä¸ºä¸ªäºº VPS è®¾è®¡ã€‚å®ƒå¯ä»¥æ¯å¤©è‡ªåŠ¨æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€ï¼Œå‘é€æ—¥æŠ¥é‚®ä»¶ï¼Œå¹¶ä¸ [Healthchecks.io](https://healthchecks.io) é›†æˆè¿›è¡Œå¿ƒè·³æ£€æµ‹ã€‚

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

- **ç¡¬ç›˜ç›‘æ§**ï¼šè‡ªåŠ¨æ£€æµ‹æ ¹åˆ†åŒºä½¿ç”¨ç‡ã€‚
- **å†…å­˜ç›‘æ§**ï¼šå®æ—¶æŸ¥çœ‹å†…å­˜å ç”¨æƒ…å†µã€‚
- **é‚®ä»¶æ—¥æŠ¥**ï¼šæ¯å¤©å®šæ—¶å‘é€ä½“æ£€æŠ¥å‘Šåˆ°æŒ‡å®šé‚®ç®±ï¼ˆæ”¯æŒ QQ é‚®ç®±ï¼‰ã€‚
- **æ­»ä¿¡æ£€æµ‹**ï¼šé›†æˆ Healthchecks.ioï¼Œå¦‚æœè„šæœ¬æœªæ‰§è¡Œæˆ–æ‰§è¡Œå¤±è´¥ï¼Œä¼šæ”¶åˆ°æŠ¥è­¦ã€‚
- **å®¹é”™è®¾è®¡**ï¼šé‚®ä»¶å‘é€å¤±è´¥ä¸å½±å“åç»­çš„å¿ƒè·³æ‰“å¡ã€‚
- **æ—¥å¿—è®°å½•**ï¼šæ‰€æœ‰è¿è¡ŒçŠ¶æ€è‡ªåŠ¨è®°å½•åˆ° log æ–‡ä»¶ï¼Œæ–¹ä¾¿æ’æŸ¥ã€‚

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
æœ¬è„šæœ¬ä¾èµ– `s-nail` å‘é€é‚®ä»¶ï¼Œè¯·å…ˆå®‰è£…ï¼š
```bash
apt-get update && apt-get install s-nail -y
```

### 2. é…ç½®é‚®ä»¶æœåŠ¡
ç¼–è¾‘ `/etc/s-nail.rc`ï¼Œæ·»åŠ ä½ çš„é‚®ç®±é…ç½®ï¼ˆä»¥ QQ é‚®ç®±ä¸ºä¾‹ï¼‰ï¼š
```bash
set v15-compat
set from="ä½ çš„é‚®ç®±@qq.com"
set mta=smtps://ä½ çš„é‚®ç®±%40qq.com:æˆæƒç @smtp.qq.com:465
set smtp-auth=login
set ssl-verify=ignore
set norecord
```

### 3. éƒ¨ç½²è„šæœ¬
ä¸‹è½½è„šæœ¬å¹¶èµ‹äºˆæ‰§è¡Œæƒé™ï¼š
```bash
chmod +x monitor.sh
```

ä¿®æ”¹è„šæœ¬ä¸­çš„é…ç½®åŒºåŸŸï¼š
```bash
EMAIL="ä½ çš„æ¥æ”¶é‚®ç®±"
HC_URL="ä½ çš„Healthchecksæ‰“å¡åœ°å€"
```

### 4. è®¾ç½®å®šæ—¶ä»»åŠ¡ (Crontab)
æ¨èæ¯å¤©æ—©ä¸Š 8:05 æ‰§è¡Œï¼š
```bash
5 8 * * * /bin/bash /root/practice/monitor.sh >> /root/practice/monitor.log 2>&1
```

## ğŸ“ æ—¥å¿—æŸ¥çœ‹
è„šæœ¬è¿è¡Œæ—¥å¿—ä¼šä¿å­˜åœ¨ `monitor.log` ä¸­ï¼š
```bash
tail -f monitor.log
```

## ğŸ“„ License
MIT License
